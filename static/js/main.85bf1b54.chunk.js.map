{"version":3,"sources":["components/IconButton/IconButton.js","components/icons/delete.svg","components/icons/add.svg","components/TodoList/TodoList.js","components/TodoList/TodoEitor.js","components/TodoList/Filter.js","components/Modal/Modal.js","App.js","index.js"],"names":["IconButton","children","onClick","allyProps","className","type","defaultProps","_path","_path2","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDelete","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","id","d","fill","ForwardRef","TodoList","todos","onDeleteTodo","onToggleCompleted","map","text","completed","checked","onChange","width","TodoEditor","state","massage","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","onSubmit","Component","Filter","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleClickBackdrop","window","addEventListener","removeEventListener","createPortal","SvgAdd","App","initialTodos","filter","showModal","addTodo","todo","shortid","generate","deleteTodo","todoId","prevState","changeFilter","toggleCompleted","calculateCompletedTodos","reduce","acc","getVisibleTodos","normalizedFilter","toLowerCase","includes","toggleModal","prevProps","localStorage","setItem","JSON","stringify","getItem","parseTodos","parse","console","log","completedTodoCount","visibleTodos","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.85bf1b54.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes, { func } from 'prop-types';\r\nimport './IconButton.scss';\r\nconst IconButton = ({ children, onClick, ...allyProps }) => {\r\n  return (\r\n    <button\r\n      className=\"IconButton\"\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      {...allyProps}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\nIconButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\nIconButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n}\r\nexport default IconButton;\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.14311edf.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAdd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.b32f3a09.svg\";\nexport { ForwardRef as ReactComponent };","import IconButton from 'components/IconButton/IconButton';\r\nimport React from 'react';\r\nimport './Todolist.scss';\r\nimport {ReactComponent as DeleteIcon} from '../icons/delete.svg';\r\nconst TodoList = ({ todos, onDeleteTodo, onToggleCompleted }) => {\r\n  return (\r\n    <ul className=\"TodoList\">\r\n      {todos.map(({ id, text, completed }) => (\r\n        <li\r\n          key={id}\r\n          className={completed ? 'TodoList__item TodoList__item--completed' : 'TodoList__item'}\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"TodoList__chekbox\"\r\n            checked={completed}\r\n            onChange={() => onToggleCompleted(id)}\r\n          />\r\n          <p className=\"TodoList__text\">{text}</p>\r\n          <IconButton onClick={()=>onDeleteTodo(id)}><DeleteIcon width='32' fill='#fff' aria-label=\"Delete Todo\"/></IconButton>\r\n          {/* <button\r\n            type=\"button\"\r\n            className=\"TodoList__btn\"\r\n            onClick={() => onDeleteTodo(id)}\r\n          >\r\n            Удалить\r\n          </button> */}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\nexport default TodoList;\r\n","import IconButton from 'components/IconButton/IconButton';\r\nimport { Component } from 'react';\r\nimport './Todoeditor.scss';\r\nclass TodoEditor extends Component {\r\n  state = {\r\n    massage: '',\r\n  };\r\n  handleChange = e => {\r\n    this.setState({ massage: e.currentTarget.value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.massage);\r\n    this.setState({ massage: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <form className=\"TodoEditor\" onSubmit={this.handleSubmit}>\r\n        <textarea\r\n          className=\"TodoEditor__textarea\"\r\n          value={this.state.massage}\r\n          onChange={this.handleChange}\r\n        ></textarea>\r\n        <IconButton\r\n          type=\"submit\"\r\n          className=\"TodoEditor__button\"\r\n          aria-label=\"Save Todo\"\r\n        >\r\n          Сохранить\r\n        </IconButton>\r\n        {/* <button type='submit' className=\"TodoEditor__button\">Сохранить</button> */}\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default TodoEditor;\r\n","import { Component } from 'react';\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <label>\r\n      Фильтр по имени <input type=\"text\" value={value} onChange={onChange} />{' '}\r\n    </label>\r\n  );\r\n};\r\nexport default Filter;\r\n","import React from 'react';\r\nimport { Component } from 'react/cjs/react.production.min';\r\nimport './Modal.scss';\r\nimport { createPortal } from 'react-dom';\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  componentWillUmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  handleClickBackdrop = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Modal__backdrop\" onClick={this.handleClickBackdrop}>\r\n        <div className=\"Modal__content\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport shortid from 'shortid';\nimport TodoList from 'components/TodoList';\nimport TodoEditor from 'components/TodoList/TodoEitor';\nimport initialTodos from './data/todos.json';\nimport Filter from './components/TodoList/Filter';\nimport Modal from './components/Modal/Modal';\nimport IconButton from 'components/IconButton/IconButton';\nimport { ReactComponent as AddIcon } from './components/icons/add.svg';\nclass App extends Component {\n  state = {\n    todos: initialTodos,\n    filter: '',\n    showModal: false,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.todos !== prevState.todos) {\n      localStorage.setItem('todos', JSON.stringify(this.state.todos));\n    }\n    // if(\n    //   this.state.todos.length>prevState.todos.length &&\n    //   prevState.todos.length !==0){\n    //     this.toggleModal();\n    //   }\n  }\n  componentDidMount() {\n    const todos = localStorage.getItem('todos');\n    const parseTodos = JSON.parse(todos);\n    console.log(parseTodos);\n    if (parseTodos) {\n      this.setState({ todos: parseTodos });\n    }\n  }\n  addTodo = text => {\n    const todo = {\n      id: shortid.generate(),\n      text,\n      completed: false,\n    };\n    // this.setState(prevState => ({\n    //   todos: [todo, ...prevState.todos],\n    // }));\n    this.setState(({ todos }) => ({\n      todos: [todo, ...todos],\n    }));\n  };\n\n  deleteTodo = todoId => {\n    this.setState(prevState => ({\n      todos: prevState.todos.filter(todo => todoId !== todo.id),\n    }));\n  };\n  changeFilter = e => {\n    this.setState({ filter: e.currentTarget.value });\n  };\n  toggleCompleted = todoId => {\n    this.setState(({ todos }) => ({\n      todos: todos.map(todo =>\n        todo.id === todoId ? { ...todo, completed: !todo.completed } : todo,\n      ),\n    }));\n  };\n  calculateCompletedTodos = () => {\n    const { todos } = this.state;\n    return todos.reduce((acc, todo) => (todo.completed ? acc + 1 : acc), 0);\n  };\n  getVisibleTodos = () => {\n    const { filter, todos } = this.state;\n    const normalizedFilter = filter.toLowerCase();\n    return todos.filter(todo =>\n      todo.text.toLowerCase().includes(normalizedFilter),\n    );\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  render() {\n    const { filter, todos, showModal } = this.state;\n    const completedTodoCount = this.calculateCompletedTodos();\n    const visibleTodos = this.getVisibleTodos();\n    return (\n      <>\n        <IconButton onClick={this.toggleModal} aria-label=\"Добавить todo\">\n          <AddIcon width=\"32\" fill=\"#fff\" />\n        </IconButton>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <button type=\"button\" className=\"btn\" onClick={this.toggleModal}>\n              Close\n            </button>{' '}\n            <TodoEditor onSubmit={this.addTodo} />\n          </Modal>\n        )}\n        <p>Общее количество:{todos.length}</p>\n        <p>Количество выполненых:{completedTodoCount}</p>\n        <TodoList\n          todos={visibleTodos}\n          onDeleteTodo={this.deleteTodo}\n          onToggleCompleted={this.toggleCompleted}\n        />\n\n        <Filter value={filter} onChange={this.changeFilter} />\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}